{% extends 'main/base.html' %}


{% block title %} Update {{ blog.title }}{% endblock %}


{% block content %}

<section class="container pt-4">

    <div class="d-flex justify-content-between">
        <h1>Search result for '{{ request.GET.search }}' result number '({{ blog_count}})'</h1><br>
        <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Order By
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="{% url 'blog:read_blog_view' %}">Rating</a></li>
              <li><a class="dropdown-item" href="{% url 'blog:read_blog_view' %}?sort=oldest">Oldest</a></li>
            </ul>
          </div>
        </div>
    

    <div class="row  g-4 row-cols-1 row-cols-md-3">

        {% for post in blog %}

            <div class="col">
                <div class="movie-card d-flex flex-column gap-2 p-0 border border-1 rounded-4 shadow h-100 overflow-hidden justify-content-start">
                    <img class="poster" src="{{post.poster.url}}" />
                    <div class="p-3 d-flex justify-content-between align-items-center">
                        <div class="d-flex gap-1">
                            <span class="releae ps-3 pe-3 bg-secondary rounded-pill text-white">{{post.published_at.year}}</span>
                            <span class="cat ps-3 pe-3 rounded-pill text-white {{movie.category}}">{{post.category}}</span>
                        </div>

                        <div class="d-flex align-items-center gap-1">
                            <h5 class="p-0 m-0">{{post.rating}}</h5>
                            <span class="material-symbols-outlined">star</span>
                        </div>
                    </div>
                    <div class="p-3 d-flex flex-column">
                        <a class=" text-decoration-none" href="{% url 'blog:blog_detail_view'  post.id %}"><h2>{{ post.title }}</h2></a>

                    </div>
                </div>
            </div>
            


        {% endfor %}

    </div>

</section>

{% endblock %}